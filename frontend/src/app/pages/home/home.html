<!-- Jumbotron -->
<app-jumbotron [imageUrl]="'assets/images/jumbotron/home.jpg'" [imageAlt]="'A modern and clean workspace with a laptop and a cup of coffee'">
  <div jumbotron-main>
    <h1 class="display-4 fw-bold">{{ profileData().fullname_profile }}</h1>
    <p class="fs-5 fs-md-4">{{ jumbotronSubtitle() }}</p>
    <a routerLink="/profile" class="btn btn-primary btn-lg" type="button">Ketahui Lebih Lanjut</a>
  </div>
  <div jumbotron-image>
    <div class="image-container rounded-circle shadow-lg" #imageContainer>
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <img [src]="profileData().photo_profile"
           class="img-fluid rounded-circle"
           [alt]="profileData().fullname_profile"
           width="250" height="250" style="aspect-ratio: 1 / 1; object-fit: cover; object-position: center top;"
           (load)="imageContainer.classList.add('loaded')"
           [appImageFallback]="'assets/images/placeholder/placeholder-avatar.png'">
    </div>
  </div>
</app-jumbotron>

<!-- Featured Projects Section -->
@if (featuredProjects().length > 0) {
  <!-- Featured Projects Carousel -->
  <div id="featuredProjectsCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel">
    @if (featuredProjects().length > 1) {
      <div class="carousel-indicators">
        @for (item of featuredProjects(); track item.id_portfolio; let i = $index) {
          <button type="button" data-bs-target="#featuredProjectsCarousel" [attr.data-bs-slide-to]="i" [class.active]="i === 0" [attr.aria-current]="i === 0 ? 'true' : 'false'" [attr.aria-label]="'Slide ' + (i + 1)"></button>
        }
      </div>
    }
    <div class="carousel-inner">
      @for (item of featuredProjects(); track item.id_portfolio; let i = $index) {
        <div class="carousel-item" [class.active]="i === 0">
          <div class="container">
            <div class="row flex-lg-row-reverse align-items-center g-5 py-5">
              <div class="col-10 col-sm-8 col-lg-6">
                <img [src]="item.image_portfolio" class="d-block mx-lg-auto img-fluid img-widescreen-crop rounded" [alt]="item.title_portfolio" width="700" height="500" loading="lazy" [appImageFallback]="'assets/images/placeholder/placeholder-image.png'">
              </div>
              <div class="col-lg-6">
                <h2 class="display-5 fw-bold text-body-emphasis lh-1 mb-3">Proyek Unggulan</h2>
                <p class="lead">{{ item.title_portfolio }}</p>
                <div class="d-grid gap-2 d-md-flex justify-content-md-start">
                  <a [routerLink]="['/portfolio', item.slug_portfolio]" class="btn btn-primary btn-lg px-4 me-md-2">Lihat Detail</a>
                  <a routerLink="/portfolio" class="btn btn-outline-secondary btn-lg px-4">Lihat Semua</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      }
    </div>
    @if (featuredProjects().length > 1) {
      <button class="carousel-control-prev" type="button" data-bs-target="#featuredProjectsCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#featuredProjectsCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    }
  </div>
}

<!-- Mini Jumbotron -->
<div class="row align-items-md-stretch pt-4">
  <div class="col-md-6">
    <div class="h-100 p-5 bg-body-tertiary rounded-3">
      <h2>My Portfolio</h2>
      <p>Jelajahi kumpulan proyek terbaru saya yang menampilkan keahlian saya dalam pengembangan dan desain web. Lihat bagaimana saya mengubah ide menjadi kenyataan.</p>
      <a routerLink="/portfolio" class="btn btn-outline-secondary d-inline-flex align-items-center" type="button"><i class="bi bi-briefcase-fill me-2"></i>View Portfolio</a>
    </div>
  </div>
  <div class="col-md-6">
    <div class="h-100 p-5 bg-body-tertiary rounded-3">
      <h2>Let's Connect</h2>
      <p>Punya proyek dalam pikiran, pertanyaan, atau sekadar ingin menyapa? Saya senang mendengarnya. Mari kita ciptakan sesuatu yang hebat bersama-sama.</p>
      <a routerLink="/contact" class="btn btn-outline-secondary d-inline-flex align-items-center" type="button"><i class="bi bi-envelope-fill me-2"></i>Contact Me</a>
    </div>
  </div>
</div>
